/* Fix Only MultiFileAuthState
  * @Rlxfly Thanks For Helped Me Make This Main.js
  * https://github.com/Rlxfly
  
function _0x24b6(){const _0x324fdd=['fixFileName','100ExHNCe','mtimeMs','READ','keys','3.1.0','-filter_complex','module','8002300gOPWDO','connect','groups.update','forEach','Group\x20telah\x20di\x20buka!\x0asekarang\x20semua\x20peserta\x20dapat\x20mengirim\x20pesan.','length','off','all','magick','Deleted\x20sessions','find','72XBOgsR','requiring\x20new\x20plugin\x20\x27','-frames:v','message.delete','NODE_TLS_REJECT_UNAUTHORIZED','warn','entries','319450BeDNPw','./handler.js','deleteUpdate','onDelete','now','groupsUpdate','deleted\x20plugin\x20\x27','â€ŽxzXZ/i!#$%+Â£Â¢â‚¬Â¥^Â°=Â¶âˆ†Ã—Ã·Ï€âˆšâœ“Â©Â®:;?&.\x5c-','reload','Status\x20Mati','â±ï¸\x20koneksi\x20terputus\x20&\x20mencoba\x20menyambung\x20ulang...','ffprobe','catch','sSubject','conn','log','bind','./server.js','url','default','then','yellow','localeCompare','-hide_banner','SERVER_PORT','output','group-participants.update','filter','using\x20WA\x20v','welcome','sAnnounceOn','13397329ZSOxbb','sessions','*@user*\x20Sekarang\x20jadi\x20admin!','__require','isFile','plugins','color','open','Deskripsi\x20telah\x20diubah\x20menjadi\x20\x0a@desc','creds.update','readyState','sRestrictOff','push','__dirname','opts','reloadHandler','Icon\x20grup\x20telah\x20diubah!','Safari','statusCode','participantsUpdate','â˜‘ï¸\x20Test\x20Cepat\x20Selesai,\x20nama\x20file\x20session\x20~>\x20','sdemote','Fitur\x20Stiker\x20Mungkin\x20Tidak\x20Bekerja\x20Tanpa\x20imagemagick\x20dan\x20libwebp\x20di\x20ffmpeg\x20belum\x20terinstall\x20(pkg\x20install\x20imagemagick)','freeze','race','Edit\x20Info\x20Grup\x20di\x20ubah\x20ke\x20hanya\x20admin!','syntax\x20error\x20while\x20loading\x20\x27','*@user*\x20Sekarang\x20bukan\x20lagi\x20admin!','close','logger','info','DATABASE','credsUpdate','connection.update','API','useMultiFileAuthState','spromote','bye','249388cOZYCZ','parse','webp','â–â”â”â”â”â”â”[\x20*á´¡á´‡ÊŸá´„á´á´á´‡*\x20]â”â”â”â”â”â”â–\x0a\x0aâ”â€“â€“â€“â€“â€“â€“â”â”â”â”â”â”â”â”â€¢\x0aâ”‚â˜˜ï¸Ž\x20@subject\x0aâ”£â”â”â”â”â”â”â”â”â”…â”…â”…\x0aâ”‚(\x20ðŸ‘‹\x20Hi\x20@user)\x0aâ”œ[\x20*ÉªÉ´á´›Ê€á´*\x20]â€”\x0aâ”‚\x20*É´á´€á´á´‡:*\x20\x0aâ”‚\x20*á´€É¢á´‡:*\x20\x0aâ”‚\x20*É¢á´‡É´á´…á´‡Ê€:*\x0aâ”—â€“â€“â€“â€“â€“â€“â”â”â”…â”…â”…\x0a\x0aâ€“â€“â€“â€“â€“â€“â”…â”…\x20*á´…á´‡sá´„Ê€Éªá´˜á´›Éªá´É´*\x20â”…â”…â€“â€“â€“â€“â€“â€“\x0a@desc','handler','APIKeys','â–â”â”â”â”â”â”[\x20*ÊŸá´‡á´€á´ ÉªÉ´É¢*\x20]â”â”â”â”â”â”â–\x0aðš‚ðšŠðš¢ðš˜ðš—ðšŠðš›ðšŠðšŠ\x20*@user*\x20ðŸ‘‹ðŸ˜ƒ','chats','8CGTkdA','write','âš¡\x20Mengaktifkan\x20Bot,\x20Mohon\x20tunggu\x20sebentar...','timestamp','5954403ovgrYy','ffmpeg','argv','37140iCkbzR','./handler.js?update=','error','replace','red','database.json','fromEntries','re\x20-\x20require\x20plugin\x20\x27','error\x20require\x20plugin\x20\x27','--version','messages.upsert','resolve','\x5c$&','__filename','âœ…\x20Tersambung','map','green','connectionUpdate','Silahkan\x20install\x20ffmpeg\x20terlebih\x20dahulu\x20agar\x20bisa\x20mengirim\x20video','APIs','?update=','Menunggu\x20Pesan\x20Baru','data','test','Group\x20telah\x20di\x20tutup!\x0asekarang\x20hanya\x20admin\x20yang\x20dapat\x20mengirim\x20pesan.','loadDatabase','prefix','sort','Status\x20Aktif','2yYMIQy','support','convert','isInit','Edit\x20Info\x20Grup\x20di\x20ubah\x20ke\x20semua\x20peserta!','env','2000385Mqcpjs','PORT'];_0x24b6=function(){return _0x324fdd;};return _0x24b6();}const _0x24d095=_0x36cf;(function(_0x576e11,_0x55797c){const _0x150208=_0x36cf,_0x179de4=_0x576e11();while(!![]){try{const _0x4f6622=-parseInt(_0x150208(0x238))/0x1*(-parseInt(_0x150208(0x20c))/0x2)+-parseInt(_0x150208(0x21b))/0x3*(-parseInt(_0x150208(0x241))/0x4)+-parseInt(_0x150208(0x25a))/0x5*(parseInt(_0x150208(0x253))/0x6)+parseInt(_0x150208(0x218))/0x7+parseInt(_0x150208(0x214))/0x8*(parseInt(_0x150208(0x23e))/0x9)+parseInt(_0x150208(0x248))/0xa+-parseInt(_0x150208(0x1e6))/0xb;if(_0x4f6622===_0x55797c)break;else _0x179de4['push'](_0x179de4['shift']());}catch(_0x55bf57){_0x179de4['push'](_0x179de4['shift']());}}}(_0x24b6,0x6d3a1),process[_0x24d095(0x23d)][_0x24d095(0x257)]='0');import'./config.js';import{createRequire}from'module';import _0x2d3c9d,{join}from'path';import{fileURLToPath,pathToFileURL}from'url';import{platform}from'process';global[_0x24d095(0x228)]=function filename(_0x380c27=import.meta[_0x24d095(0x1d9)],_0x1b8e38=platform!=='win32'){return _0x1b8e38?/file:\/\/\//['test'](_0x380c27)?fileURLToPath(_0x380c27):_0x380c27:pathToFileURL(_0x380c27)['toString']();},global[_0x24d095(0x1f3)]=function dirname(_0x12cc8f){return _0x2d3c9d['dirname'](global['__filename'](_0x12cc8f,!![]));},global[_0x24d095(0x1e9)]=function require(_0x3a3ad2=import.meta[_0x24d095(0x1d9)]){return createRequire(_0x3a3ad2);};import*as _0x3c41aa from'ws';import{readdirSync,statSync,unlinkSync,existsSync,readFileSync,watch}from'fs';import _0x46bc7c from'yargs';import{spawn}from'child_process';import _0x3a66fa from'lodash';import _0x3eea80 from'syntax-error';import _0x575903 from'chalk';import{tmpdir}from'os';import{format}from'util';import _0x3af879 from'pino';import{Boom}from'@hapi/boom';import{DisconnectReason,fetchLatestBaileysVersion}from'@adiwajshing/baileys';const cek=fetchLatestBaileysVersion;import{Low,JSONFile}from'lowdb';import{makeWASocket,protoType,serialize}from'./lib/simple.js';import _0x213518 from'./lib/store2.js';import{mongoDB,mongoDBV2}from'./lib/mongoDB.js';const {CONNECTING}=_0x3c41aa,{chain}=_0x3a66fa,PORT=process[_0x24d095(0x23d)][_0x24d095(0x23f)]||process[_0x24d095(0x23d)][_0x24d095(0x1df)]||0xbb8;protoType(),serialize(),global[_0x24d095(0x208)]=(_0x13ff98,_0x49a021='/',_0x2b9455={},_0x1fc7c7)=>(_0x13ff98 in global[_0x24d095(0x22e)]?global[_0x24d095(0x22e)][_0x13ff98]:_0x13ff98)+_0x49a021+(_0x2b9455||_0x1fc7c7?'?'+new URLSearchParams(Object['entries']({..._0x2b9455,..._0x1fc7c7?{[_0x1fc7c7]:global[_0x24d095(0x211)][_0x13ff98 in global[_0x24d095(0x22e)]?global['APIs'][_0x13ff98]:_0x13ff98]}:{}})):''),global[_0x24d095(0x217)]={'start':new Date()};const __dirname=global[_0x24d095(0x1f3)](import.meta['url']);global[_0x24d095(0x1f4)]=new Object(_0x46bc7c(process[_0x24d095(0x21a)]['slice'](0x2))['exitProcess'](![])[_0x24d095(0x20d)]()),global[_0x24d095(0x235)]=new RegExp('^['+(opts[_0x24d095(0x235)]||_0x24d095(0x261))[_0x24d095(0x21e)](/[|\\{}()[\]^$+*?.\-\^]/g,_0x24d095(0x227))+']'),global['db']=new Low(/https?:\/\//['test'](opts['db']||'')?new cloudDBAdapter(opts['db']):/mongodb(\+srv)?:\/\//i[_0x24d095(0x232)](opts['db'])?opts['mongodbv2']?new mongoDBV2(opts['db']):new mongoDB(opts['db']):new JSONFile((opts['_'][0x0]?opts['_'][0x0]+'_':'')+_0x24d095(0x220))),global[_0x24d095(0x205)]=global['db'],global['loadDatabase']=async function loadDatabase(){const _0x4e1ba4=_0x24d095;if(db[_0x4e1ba4(0x243)])return new Promise(_0x39038e=>setInterval(async function(){const _0x3e6ec5=_0x4e1ba4;!db['READ']&&(clearInterval(this),_0x39038e(db[_0x3e6ec5(0x231)]==null?global[_0x3e6ec5(0x234)]():db[_0x3e6ec5(0x231)]));},0x1*0x3e8));if(db['data']!==null)return;db[_0x4e1ba4(0x243)]=!![],await db['read']()[_0x4e1ba4(0x266)](console[_0x4e1ba4(0x21d)]),db[_0x4e1ba4(0x243)]=null,db[_0x4e1ba4(0x231)]={'users':{},'chats':{},'stats':{},'msgs':{},'sticker':{},'settings':{},...db[_0x4e1ba4(0x231)]||{}},global['db']['chain']=chain(db['data']);},loadDatabase(),global['authFolder']=_0x213518[_0x24d095(0x240)]((opts['_'][0x0]||'')+_0x24d095(0x1e7));let {state,saveCreds}=await _0x213518[_0x24d095(0x209)](_0x2d3c9d[_0x24d095(0x226)]('./sessions')),{version,isLatest}=await fetchLatestBaileysVersion();console[_0x24d095(0x1d6)](_0x24d095(0x1e3)+version['join']('.')+',\x20isLatest:\x20'+isLatest);const connectionOptions={'version':version,'printQRInTerminal':!![],'auth':state,'browser':['xIKRATOSx',_0x24d095(0x1f7),_0x24d095(0x245)]};global[_0x24d095(0x268)]=makeWASocket(connectionOptions),conn[_0x24d095(0x23b)]=![];function _0x36cf(_0x6d8bff,_0x1848a7){const _0x24b631=_0x24b6();return _0x36cf=function(_0x36cf86,_0x5620b9){_0x36cf86=_0x36cf86-0x1d6;let _0x45ad38=_0x24b631[_0x36cf86];return _0x45ad38;},_0x36cf(_0x6d8bff,_0x1848a7);}!opts[_0x24d095(0x232)]&&((await import(_0x24d095(0x1d8)))[_0x24d095(0x1da)](PORT),setInterval(async()=>{const _0x180ebd=_0x24d095;if(global['db'][_0x180ebd(0x231)])await global['db'][_0x180ebd(0x215)]()[_0x180ebd(0x266)](console[_0x180ebd(0x21d)]);clearTmp();},0x3c*0x3e8));function clearTmp(){const _0x542e5a=_0x24d095,_0x1653c9=[tmpdir(),join(__dirname,'./tmp')],_0x55ae39=[];return _0x1653c9[_0x542e5a(0x24b)](_0x484aaf=>readdirSync(_0x484aaf)[_0x542e5a(0x24b)](_0x55a47d=>_0x55ae39[_0x542e5a(0x1f2)](join(_0x484aaf,_0x55a47d)))),_0x55ae39[_0x542e5a(0x22a)](_0x1ab5e8=>{const _0x1bd644=_0x542e5a,_0x128600=statSync(_0x1ab5e8);if(_0x128600[_0x1bd644(0x1ea)]()&&Date['now']()-_0x128600[_0x1bd644(0x242)]>=0x3e8*0x3c*0x3)return unlinkSync(_0x1ab5e8);return![];});}function clearSessions(_0x200dd0='sessions'){const _0x535fbf=_0x24d095;let _0x453154=[];return readdirSync(_0x200dd0)['forEach'](_0x58b703=>_0x453154['push'](join(_0x200dd0,_0x58b703))),_0x453154[_0x535fbf(0x22a)](_0x1d5793=>{const _0x14d9cc=_0x535fbf;let _0x53cd18=statSync(_0x1d5793);if(_0x53cd18[_0x14d9cc(0x1ea)]()&&Date[_0x14d9cc(0x25e)]()-_0x53cd18[_0x14d9cc(0x242)]>=0x3e8*0x3c*0x78)return console['log'](_0x14d9cc(0x251),_0x1d5793),unlinkSync(_0x1d5793);return![];});}async function connectionUpdate(_0x26eb5a){const _0x591ba9=_0x24d095,{receivedPendingNotifications:_0x546249,connection:_0x49ba95,lastDisconnect:_0x2d8d74,isOnline:_0x32732a,isNewLogin:_0x26e4ea}=_0x26eb5a;if(_0x26e4ea)conn['isInit']=!![];if(_0x49ba95=='connecting')console['log'](_0x575903['redBright'](_0x591ba9(0x216)));if(_0x49ba95==_0x591ba9(0x1ed))console[_0x591ba9(0x1d6)](_0x575903[_0x591ba9(0x22b)](_0x591ba9(0x229)));if(_0x32732a==!![])console[_0x591ba9(0x1d6)](_0x575903[_0x591ba9(0x22b)](_0x591ba9(0x237)));if(_0x32732a==![])console['log'](_0x575903[_0x591ba9(0x21f)](_0x591ba9(0x263)));if(_0x546249)console[_0x591ba9(0x1d6)](_0x575903[_0x591ba9(0x1dc)](_0x591ba9(0x230)));if(_0x49ba95==_0x591ba9(0x202))console[_0x591ba9(0x1d6)](_0x575903[_0x591ba9(0x21f)](_0x591ba9(0x264)));global['timestamp'][_0x591ba9(0x249)]=new Date();_0x2d8d74&&_0x2d8d74['error']&&_0x2d8d74[_0x591ba9(0x21d)]['output']&&_0x2d8d74[_0x591ba9(0x21d)][_0x591ba9(0x1e0)][_0x591ba9(0x1f8)]!==DisconnectReason['loggedOut']&&conn['ws'][_0x591ba9(0x1f0)]!==CONNECTING&&console[_0x591ba9(0x1d6)](global[_0x591ba9(0x1f5)](!![]));if(global['db'][_0x591ba9(0x231)]==null)await global[_0x591ba9(0x234)]();}process['on']('uncaughtException',console['error']);let isInit=!![],handler=await import(_0x24d095(0x25b));global[_0x24d095(0x1f5)]=async function(_0x30d883){const _0x5ea9ba=_0x24d095;try{const _0xcb9daf=await import(_0x5ea9ba(0x21c)+Date[_0x5ea9ba(0x25e)]())[_0x5ea9ba(0x266)](console[_0x5ea9ba(0x21d)]);if(Object['keys'](_0xcb9daf||{})[_0x5ea9ba(0x24d)])handler=_0xcb9daf;}catch(_0x1149cf){console[_0x5ea9ba(0x21d)](_0x1149cf);}if(_0x30d883){const _0x458250=global[_0x5ea9ba(0x268)][_0x5ea9ba(0x213)];try{global['conn']['ws'][_0x5ea9ba(0x202)]();}catch{}conn['ev']['removeAllListeners'](),global[_0x5ea9ba(0x268)]=makeWASocket(connectionOptions,{'chats':_0x458250}),isInit=!![];}return!isInit&&(conn['ev'][_0x5ea9ba(0x24e)](_0x5ea9ba(0x225),conn[_0x5ea9ba(0x210)]),conn['ev'][_0x5ea9ba(0x24e)](_0x5ea9ba(0x1e1),conn[_0x5ea9ba(0x1f9)]),conn['ev'][_0x5ea9ba(0x24e)](_0x5ea9ba(0x24a),conn['groupsUpdate']),conn['ev']['off']('message.delete',conn['onDelete']),conn['ev']['off'](_0x5ea9ba(0x207),conn['connectionUpdate']),conn['ev'][_0x5ea9ba(0x24e)]('creds.update',conn[_0x5ea9ba(0x206)])),conn[_0x5ea9ba(0x1e4)]=_0x5ea9ba(0x20f),conn[_0x5ea9ba(0x20b)]=_0x5ea9ba(0x212),conn[_0x5ea9ba(0x20a)]=_0x5ea9ba(0x1e8),conn[_0x5ea9ba(0x1fb)]=_0x5ea9ba(0x201),conn['sDesc']=_0x5ea9ba(0x1ee),conn[_0x5ea9ba(0x267)]='Judul\x20grup\x20telah\x20diubah\x20menjadi\x20\x0a@subject',conn['sIcon']=_0x5ea9ba(0x1f6),conn['sRevoke']='Link\x20group\x20telah\x20diubah\x20ke\x20\x0a@revoke',conn[_0x5ea9ba(0x1e5)]=_0x5ea9ba(0x233),conn['sAnnounceOff']=_0x5ea9ba(0x24c),conn['sRestrictOn']=_0x5ea9ba(0x1ff),conn[_0x5ea9ba(0x1f1)]=_0x5ea9ba(0x23c),conn[_0x5ea9ba(0x210)]=handler[_0x5ea9ba(0x210)][_0x5ea9ba(0x1d7)](global[_0x5ea9ba(0x268)]),conn[_0x5ea9ba(0x1f9)]=handler[_0x5ea9ba(0x1f9)]['bind'](global[_0x5ea9ba(0x268)]),conn[_0x5ea9ba(0x25f)]=handler[_0x5ea9ba(0x25f)]['bind'](global[_0x5ea9ba(0x268)]),conn[_0x5ea9ba(0x25d)]=handler[_0x5ea9ba(0x25c)][_0x5ea9ba(0x1d7)](global['conn']),conn[_0x5ea9ba(0x22c)]=connectionUpdate[_0x5ea9ba(0x1d7)](global['conn']),conn[_0x5ea9ba(0x206)]=saveCreds[_0x5ea9ba(0x1d7)](global[_0x5ea9ba(0x268)]),conn['ev']['on']('messages.upsert',conn[_0x5ea9ba(0x210)]),conn['ev']['on'](_0x5ea9ba(0x1e1),conn[_0x5ea9ba(0x1f9)]),conn['ev']['on'](_0x5ea9ba(0x24a),conn[_0x5ea9ba(0x25f)]),conn['ev']['on'](_0x5ea9ba(0x256),conn[_0x5ea9ba(0x25d)]),conn['ev']['on'](_0x5ea9ba(0x207),conn[_0x5ea9ba(0x22c)]),conn['ev']['on'](_0x5ea9ba(0x1ef),conn[_0x5ea9ba(0x206)]),isInit=![],!![];};const pluginFolder=global[_0x24d095(0x1f3)](join(__dirname,'./plugins/index')),pluginFilter=_0x40d840=>/\.js$/['test'](_0x40d840);global[_0x24d095(0x1eb)]={};async function filesInit(){const _0x2b85f8=_0x24d095;for(let _0x13ee66 of readdirSync(pluginFolder)[_0x2b85f8(0x1e2)](pluginFilter)){try{let _0x44f1a4=global[_0x2b85f8(0x228)](join(pluginFolder,_0x13ee66));const _0x16dd38=await import(_0x44f1a4);global[_0x2b85f8(0x1eb)][_0x13ee66]=_0x16dd38[_0x2b85f8(0x1da)]||_0x16dd38;}catch(_0x39aefc){conn[_0x2b85f8(0x203)]['error'](_0x39aefc),delete global[_0x2b85f8(0x1eb)][_0x13ee66];}}}filesInit()[_0x24d095(0x1db)](_0x150c16=>console[_0x24d095(0x1d6)](Object[_0x24d095(0x244)](global[_0x24d095(0x1eb)])))[_0x24d095(0x266)](console[_0x24d095(0x21d)]),global[_0x24d095(0x262)]=async(_0x50fb10,_0x5653fd)=>{const _0x46afcd=_0x24d095;if(pluginFilter(_0x5653fd)){let _0xfd4c37=global[_0x46afcd(0x228)](join(pluginFolder,_0x5653fd),!![]);if(_0x5653fd in global[_0x46afcd(0x1eb)]){if(existsSync(_0xfd4c37))conn[_0x46afcd(0x203)][_0x46afcd(0x204)](_0x46afcd(0x222)+_0x5653fd+'\x27');else return conn[_0x46afcd(0x203)][_0x46afcd(0x258)](_0x46afcd(0x260)+_0x5653fd+'\x27'),delete global[_0x46afcd(0x1eb)][_0x5653fd];}else conn[_0x46afcd(0x203)][_0x46afcd(0x204)](_0x46afcd(0x254)+_0x5653fd+'\x27');let _0x4df9ad=_0x3eea80(readFileSync(_0xfd4c37),_0x5653fd,{'sourceType':_0x46afcd(0x247),'allowAwaitOutsideFunction':!![]});if(_0x4df9ad)conn['logger']['error'](_0x46afcd(0x200)+_0x5653fd+'\x27\x0a'+format(_0x4df9ad));else try{const _0x6d7657=await import(global[_0x46afcd(0x228)](_0xfd4c37)+_0x46afcd(0x22f)+Date['now']());global[_0x46afcd(0x1eb)][_0x5653fd]=_0x6d7657['default']||_0x6d7657;}catch(_0x552330){conn[_0x46afcd(0x203)][_0x46afcd(0x21d)](_0x46afcd(0x223)+_0x5653fd+'\x0a'+format(_0x552330)+'\x27');}finally{global[_0x46afcd(0x1eb)]=Object[_0x46afcd(0x221)](Object[_0x46afcd(0x259)](global[_0x46afcd(0x1eb)])[_0x46afcd(0x236)](([_0x4374d4],[_0xff9e17])=>_0x4374d4[_0x46afcd(0x1dd)](_0xff9e17)));}}},Object[_0x24d095(0x1fd)](global[_0x24d095(0x262)]),watch(pluginFolder,global[_0x24d095(0x262)]),await global[_0x24d095(0x1f5)]();async function _quickTest(){const _0x26ef84=_0x24d095;let _0x3e408a=await Promise[_0x26ef84(0x24f)]([spawn(_0x26ef84(0x219)),spawn(_0x26ef84(0x265)),spawn(_0x26ef84(0x219),[_0x26ef84(0x1de),'-loglevel',_0x26ef84(0x21d),_0x26ef84(0x246),_0x26ef84(0x1ec),_0x26ef84(0x255),'1','-f',_0x26ef84(0x20e),'-']),spawn(_0x26ef84(0x23a)),spawn(_0x26ef84(0x250)),spawn('gm'),spawn(_0x26ef84(0x252),[_0x26ef84(0x224)])]['map'](_0x4667e3=>{const _0x43b568=_0x26ef84;return Promise[_0x43b568(0x1fe)]([new Promise(_0x1c9034=>{const _0x5de330=_0x43b568;_0x4667e3['on'](_0x5de330(0x202),_0x1061d6=>{_0x1c9034(_0x1061d6!==0x7f);});}),new Promise(_0x3bf49e=>{_0x4667e3['on']('error',_0x163307=>_0x3bf49e(![]));})]);})),[_0xbcff2,_0x150c62,_0x269385,_0x3bea1c,_0x30cf12,_0x4a17ad,_0x1a71fc]=_0x3e408a;console[_0x26ef84(0x1d6)](_0x3e408a);let _0x1342a5=global['support']={'ffmpeg':_0xbcff2,'ffprobe':_0x150c62,'ffmpegWebp':_0x269385,'convert':_0x3bea1c,'magick':_0x30cf12,'gm':_0x4a17ad,'find':_0x1a71fc};Object['freeze'](global[_0x26ef84(0x239)]),!_0x1342a5['ffmpeg']&&conn[_0x26ef84(0x203)][_0x26ef84(0x258)](_0x26ef84(0x22d)),_0x1342a5[_0x26ef84(0x219)]&&!_0x1342a5['ffmpegWebp']&&conn['logger'][_0x26ef84(0x258)]('Sticker\x20Mungkin\x20Tidak\x20Beranimasi\x20tanpa\x20libwebp\x20di\x20ffmpeg\x20(--enable-ibwebp\x20while\x20compiling\x20ffmpeg)'),!_0x1342a5[_0x26ef84(0x23a)]&&!_0x1342a5['magick']&&!_0x1342a5['gm']&&conn[_0x26ef84(0x203)]['warn'](_0x26ef84(0x1fc));}_quickTest()[_0x24d095(0x1db)](()=>conn[_0x24d095(0x203)][_0x24d095(0x204)](_0x24d095(0x1fa),authFolder))[_0x24d095(0x266)](console[_0x24d095(0x21d)]);
*/
/*Â IfÂ YouÂ Copy,Â Don`tÂ DeleteÂ ThisÂ Credit!!!Â  
 Â Â Don`tÂ SellÂ ThisÂ ScriptÂ OrÂ IÂ TakeÂ ImmediatelyÂ  
 Â Â YangÂ JualÂ ScriptÂ IniÂ Report/HangusinÂ AjaÂ AkunnyaÂ AtauÂ PukulinÂ aeÂ orangnya 
 Â Â FixÂ Doesn'tÂ NotÂ ShowÂ QrCodeÂ &Â MultiÂ AuthÂ State 
 Â Â RegardsÂ fromÂ YanXiaoÂ â™¡ 
 */ 
 process.env['NODE_TLS_REJECT_UNAUTHORIZED']Â =Â '0'; 
 importÂ './config.js' 
  
 importÂ path,Â {Â joinÂ }Â fromÂ 'path' 
 importÂ {Â platformÂ }Â fromÂ 'process' 
 importÂ {Â fileURLToPath,Â pathToFileURLÂ }Â fromÂ 'url' 
 importÂ {Â createRequireÂ }Â fromÂ 'module'Â //Â BringÂ inÂ theÂ abilityÂ toÂ createÂ theÂ 'require'Â method 
 global.__filenameÂ =Â functionÂ filename(pathURLÂ =Â import.meta.url,Â rmPrefixÂ =Â platformÂ !==Â 'win32')Â {Â returnÂ rmPrefixÂ ?Â /file:\/\/\//.test(pathURL)Â ?Â fileURLToPath(pathURL)Â :Â pathURLÂ :Â pathToFileURL(pathURL).toString()Â };Â global.__dirnameÂ =Â functionÂ dirname(pathURL)Â {Â returnÂ path.dirname(global.__filename(pathURL,Â true))Â };Â global.__requireÂ =Â functionÂ require(dirÂ =Â import.meta.url)Â {Â returnÂ createRequire(dir)Â } 
 importÂ *Â asÂ wsÂ fromÂ 'ws' 
 importÂ { 
 Â Â Â Â readdirSync, 
 Â Â Â Â statSync, 
 Â Â Â Â unlinkSync, 
 Â Â Â Â existsSync, 
 Â Â Â Â readFileSync, 
 Â Â Â Â watch 
 }Â fromÂ 'fs' 
 importÂ yargsÂ fromÂ 'yargs' 
 importÂ {Â spawnÂ }Â fromÂ 'child_process' 
 importÂ lodashÂ fromÂ 'lodash' 
 importÂ syntaxerrorÂ fromÂ 'syntax-error' 
 importÂ chalkÂ fromÂ 'chalk' 
 importÂ {Â tmpdirÂ }Â fromÂ 'os' 
 importÂ {Â formatÂ }Â fromÂ 'util' 
 importÂ pinoÂ fromÂ 'pino' 
 importÂ {Â BoomÂ }Â fromÂ '@hapi/boom' 
 importÂ { 
 Â Â Â Â useMultiFileAuthState, 
 Â Â Â Â DisconnectReason, 
 Â Â Â Â fetchLatestBaileysVersionÂ  
 Â Â Â }Â fromÂ '@adiwajshing/baileys' 
 importÂ {Â Low,Â JSONFileÂ }Â fromÂ 'lowdb' 
  
 importÂ {Â makeWASocket,Â protoType,Â serializeÂ }Â fromÂ './lib/simple.js' 
 importÂ storeSysÂ fromÂ './lib/store2.js' 
 importÂ { 
 Â Â Â Â mongoDB, 
 Â Â Â Â mongoDBV2 
 }Â fromÂ './lib/mongoDB.js' 
  
 constÂ {Â CONNECTINGÂ }Â =Â ws 
 constÂ {Â chainÂ }Â =Â lodash 
 constÂ PORTÂ =Â process.env.PORTÂ ||Â process.env.SERVER_PORTÂ ||Â 3000 
  
 protoType() 
 serialize() 
  
 global.APIÂ =Â (name,Â pathÂ =Â '/',Â queryÂ =Â {},Â apikeyqueryname)Â =>Â (nameÂ inÂ global.APIsÂ ?Â global.APIs[name]Â :Â name)Â +Â pathÂ +Â (queryÂ ||Â apikeyquerynameÂ ?Â '?'Â +Â newÂ URLSearchParams(Object.entries({Â ...query,Â ...(apikeyquerynameÂ ?Â {Â [apikeyqueryname]:Â global.APIKeys[nameÂ inÂ global.APIsÂ ?Â global.APIs[name]Â :Â name]Â }Â :Â {})Â }))Â :Â '') 
 //Â global.FnÂ =Â functionÂ functionCallBack(fn,Â ...args)Â {Â returnÂ fn.call(global.conn,Â ...args)Â } 
 global.timestampÂ =Â { 
 Â Â start:Â newÂ Date 
 } 
  
 constÂ __dirnameÂ =Â global.__dirname(import.meta.url) 
  
 global.optsÂ =Â newÂ Object(yargs(process.argv.slice(2)).exitProcess(false).parse()) 
 global.prefixÂ =Â newÂ RegExp('^['Â +Â (opts['prefix']Â ||Â 'â€ŽxzXZ/i!#$%+Â£Â¢â‚¬Â¥^Â°=Â¶âˆ†Ã—Ã·Ï€âˆšâœ“Â©Â®:;?&.\\-').replace(/[|\\{}()[\]^$+*?.\-\^]/g,Â '\\$&')Â +Â ']') 
  
 global.dbÂ =Â newÂ Low( 
 Â Â /https?:\/\//.test(opts['db']Â ||Â '')Â ? 
 Â Â Â Â newÂ cloudDBAdapter(opts['db'])Â :Â /mongodb(\+srv)?:\/\//i.test(opts['db'])Â ? 
 Â Â Â Â Â Â (opts['mongodbv2']Â ?Â newÂ mongoDBV2(opts['db'])Â :Â newÂ mongoDB(opts['db']))Â : 
 Â Â Â Â Â Â newÂ JSONFile(`${opts._[0]Â ?Â opts._[0]Â +Â '_'Â :Â ''}database.json`) 
 ) 
 global.DATABASEÂ =Â global.dbÂ //Â BackwardsÂ Compatibility 
 global.loadDatabaseÂ =Â asyncÂ functionÂ loadDatabase()Â { 
 Â Â Â Â ifÂ (db.READ)Â returnÂ newÂ Promise((resolve)Â =>Â setInterval(asyncÂ functionÂ ()Â { 
 Â Â Â Â Â Â Â Â ifÂ (!db.READ)Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â clearInterval(this) 
 Â Â Â Â Â Â Â Â Â Â Â Â resolve(db.dataÂ ==Â nullÂ ?Â global.loadDatabase()Â :Â db.data) 
 Â Â Â Â Â Â Â Â } 
 Â Â Â Â },Â 1Â *Â 1000)) 
 Â Â Â Â ifÂ (db.dataÂ !==Â null)Â return 
 Â Â Â Â db.READÂ =Â true 
 Â Â Â Â awaitÂ db.read().catch(console.error) 
 Â Â Â Â db.READÂ =Â null 
 Â Â Â Â db.dataÂ =Â { 
 Â Â Â Â Â Â Â Â users:Â {}, 
 Â Â Â Â Â Â Â Â chats:Â {}, 
 Â Â Â Â Â Â Â Â stats:Â {}, 
 Â Â Â Â Â Â Â Â msgs:Â {}, 
 Â Â Â Â Â Â Â Â sticker:Â {}, 
 Â Â Â Â Â Â Â Â settings:Â {}, 
 Â Â Â Â Â Â Â Â ...(db.dataÂ ||Â {}) 
 Â Â Â Â } 
 Â Â Â Â global.db.chainÂ =Â chain(db.data) 
 } 
 loadDatabase() 
  
 global.authFolderÂ =Â storeSys.fixFileName(`${opts._[0]Â ||Â ''}sessions`) 
 Â Â Â Â letÂ {Â state,Â saveCredsÂ }Â =Â awaitÂ useMultiFileAuthState(path.resolve('./sessions')) 
 Â Â Â Â letÂ {Â version,Â isLatestÂ }Â =Â awaitÂ fetchLatestBaileysVersion() 
 Â Â Â Â console.log(`usingÂ WAÂ v${version.join('.')},Â isLatest:Â ${isLatest}`) 
 /*constÂ storeÂ =Â storeSys.makeInMemoryStore() 
 constÂ sessÂ =Â `${opts._[0]Â ||Â 'elaina'}.store.json` 
 store.readFromFile(sess) 
 global.storeÂ =Â store*/ 
  
 constÂ connectionOptionsÂ =Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â version, 
 Â Â Â Â Â Â Â Â printQRInTerminal:Â true, 
 Â Â Â Â Â Â Â Â auth:Â state, 
 Â Â Â Â Â Â Â Â browser:Â ['Elaina(ã‚¤ãƒ¬ã‚¤ãƒŠ)',Â 'Safari',Â '3.1.0'],Â  
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â patchMessageBeforeSending:Â (message)Â =>Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â constÂ requiresPatchÂ =Â !!( 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â message.buttonsMessageÂ  
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ||Â message.templateMessage 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ||Â message.listMessage 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ); 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (requiresPatch)Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â messageÂ =Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â viewOnceMessage:Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â message:Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â messageContextInfo:Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â deviceListMetadataVersion:Â 2, 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â deviceListMetadata:Â {}, 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }, 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ...message, 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }, 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }, 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }; 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â } 
  
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ message; 
 Â Â Â Â Â Â Â Â Â Â Â Â },Â  
 Â Â Â Â Â Â //Â logger:Â pino({Â level:Â 'silent'Â }) 
 } 
  
 global.connÂ =Â makeWASocket(connectionOptions) 
 conn.isInitÂ =Â false 
  
 ifÂ (!opts['test'])Â { 
 Â Â (awaitÂ import('./server.js')).default(PORT) 
 Â Â setInterval(asyncÂ ()Â =>Â { 
 Â Â Â Â ifÂ (global.db.data)Â awaitÂ global.db.write().catch(console.error) 
 Â Â Â //Â ifÂ (opts['autocleartmp'])Â tryÂ { 
 Â Â Â Â Â Â clearTmp() 
 Â Â //Â Â }Â catchÂ (e)Â {Â console.error(e)Â } 
 Â Â },Â 60Â *Â 1000) 
 } 
  
 functionÂ clearTmp()Â { 
 Â Â constÂ tmpÂ =Â [tmpdir(),Â join(__dirname,Â './tmp')] 
 Â Â constÂ filenameÂ =Â [] 
 Â Â tmp.forEach(dirnameÂ =>Â readdirSync(dirname).forEach(fileÂ =>Â filename.push(join(dirname,Â file)))) 
 Â Â returnÂ filename.map(fileÂ =>Â { 
 Â Â Â Â constÂ statsÂ =Â statSync(file) 
 Â Â Â Â ifÂ (stats.isFile()Â &&Â (Date.now()Â -Â stats.mtimeMsÂ >=Â 1000Â *Â 60Â *Â 3))Â returnÂ unlinkSync(file)Â //Â 3Â minutes 
 Â Â Â Â returnÂ false 
 Â Â }) 
 } 
  
 functionÂ clearSessions(folderÂ =Â 'sessions')Â { 
 Â Â Â Â Â Â Â Â letÂ filenameÂ =Â [] 
 Â Â Â Â Â Â Â Â readdirSync(folder).forEach(fileÂ =>Â filename.push(join(folder,Â file))) 
 Â Â Â Â Â Â Â Â returnÂ filename.map(fileÂ =>Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â letÂ statsÂ =Â statSync(file) 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (stats.isFile()Â &&Â (Date.now()Â -Â stats.mtimeMsÂ >=Â 1000Â *Â 60Â *Â 120))Â {Â //Â 1Â hours 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â console.log('DeletedÂ sessions',Â file) 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ unlinkSync(file) 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â } 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ false 
 Â Â Â Â Â Â Â Â }) 
 } 
  
 asyncÂ functionÂ connectionUpdate(update)Â { 
 Â Â Â Â constÂ {Â receivedPendingNotifications,Â connection,Â lastDisconnect,Â isOnline,Â isNewLoginÂ }Â =Â update 
 Â Â ifÂ (isNewLogin)Â conn.isInitÂ =Â true 
 Â Â ifÂ (connectionÂ ==Â 'connecting')Â console.log(chalk.redBright('âš¡Â Activating bot please wait a moment...')) 
 Â Â ifÂ (connectionÂ ==Â 'open')Â console.log(chalk.green('âœ…Â Connected')) 
 Â Â ifÂ (isOnlineÂ ==Â true)Â console.log(chalk.green('StatusÂ Active')) 
 Â Â ifÂ (isOnlineÂ ==Â false)Â console.log(chalk.red('StatusÂ Dead')) 
 Â Â ifÂ (receivedPendingNotifications)Â console.log(chalk.yellow('Waiting for NewÂ Message')) 
 Â Â ifÂ (connectionÂ ==Â 'close')Â console.log(chalk.red('â±ï¸Â disconnectedÂ &Â triedÂ to reconnectÂ ...')) 
 Â Â global.timestamp.connectÂ =Â newÂ Date 
 Â Â ifÂ (lastDisconnectÂ &&Â lastDisconnect.errorÂ &&Â lastDisconnect.error.outputÂ &&Â lastDisconnect.error.output.statusCodeÂ !==Â DisconnectReason.loggedOutÂ &&Â conn.ws.readyStateÂ !==Â CONNECTING)Â { 
 Â Â Â Â console.log(global.reloadHandler(true)) 
 Â Â }Â  
 Â Â ifÂ (global.db.dataÂ ==Â null)Â awaitÂ global.loadDatabase() 
 } 
  
 process.on('uncaughtException',Â console.error) 
 //Â letÂ strQuotÂ =Â /(["'])(?:(?=(\\?))\2.)*?\1/ 
  
 letÂ isInitÂ =Â true 
 letÂ handlerÂ =Â awaitÂ import('./handler.js') 
 global.reloadHandlerÂ =Â asyncÂ functionÂ (restatConn)Â { 
 Â Â Â Â tryÂ { 
 Â Â Â Â Â Â Â Â constÂ HandlerÂ =Â awaitÂ import(`./handler.js?update=${Date.now()}`).catch(console.error) 
 Â Â Â Â Â Â Â Â ifÂ (Object.keys(HandlerÂ ||Â {}).length)Â handlerÂ =Â Handler 
 Â Â Â Â }Â catchÂ (e)Â { 
 Â Â Â Â Â Â Â Â console.error(e) 
 Â Â Â Â } 
 Â Â Â Â ifÂ (restatConn)Â { 
 Â Â Â Â Â Â Â Â constÂ oldChatsÂ =Â global.conn.chats 
 Â Â Â Â Â Â Â Â tryÂ {Â global.conn.ws.close()Â }Â catchÂ {Â } 
 Â Â Â Â Â Â Â Â conn.ev.removeAllListeners() 
 Â Â Â Â Â Â Â Â global.connÂ =Â makeWASocket(connectionOptions,Â {Â chats:Â oldChatsÂ }) 
 Â Â Â Â Â Â Â Â isInitÂ =Â true 
 Â Â Â Â }Â Â Â Â  
 Â Â ifÂ (!isInit)Â { 
 Â Â Â Â conn.ev.off('messages.upsert',Â conn.handler) 
 Â Â Â Â conn.ev.off('group-participants.update',Â conn.participantsUpdate) 
 Â Â Â Â conn.ev.off('groups.update',Â conn.groupsUpdate) 
 Â Â Â Â conn.ev.off('message.delete',Â conn.onDelete) 
 Â Â Â Â conn.ev.off('connection.update',Â conn.connectionUpdate) 
 Â Â Â Â conn.ev.off('creds.update',Â conn.credsUpdate) 
 Â Â } 
  
 Â Â conn.welcomeÂ =Â 'â–â”â”â”â”â”â”[Â á´¡á´‡ÊŸá´„á´á´á´‡Â ]â”â”â”â”â”â”â–\n\nâ”â€“â€“â€“â€“â€“â€“â”â”â”â”â”â”â”â”â€¢\nâ”‚â˜˜ï¸ŽÂ @subject\nâ”£â”â”â”â”â”â”â”â”â”…â”…â”…\nâ”‚(Â ðŸ‘‹Â HalloÂ @user)\nâ”œ[Â ÉªÉ´á´›Ê€á´Â ]â€”\nâ”‚Â É´á´€á´á´€:Â \nâ”‚Â á´œá´á´œÊ€:Â \nâ”‚Â É¢á´‡É´á´…á´‡Ê€:\nâ”—â€“â€“â€“â€“â€“â€“â”â”â”…â”…â”…\n\nâ€“â€“â€“â€“â€“â€“â”…â”…Â á´…á´‡sá´„Ê€Éªá´˜á´›Éªá´É´Â â”…â”…â€“â€“â€“â€“â€“â€“\n@desc' 
 Â Â conn.byeÂ =Â 'â–â”â”â”â”â”â”[Â ÊŸá´‡á´€á´ ÉªÉ´É¢Â ]â”â”â”â”â”â”â–\nGoodBye Â @userÂ ðŸ‘‹ðŸ˜ƒ' 
 Â Â conn.spromoteÂ =Â '@user congratulations you are now anÂ admin!' 
 Â Â conn.sdemoteÂ =Â '@userÂ You are no longer anÂ admin!' 
 Â Â conn.sDescÂ =Â 'Description bdl di gai hy, new description:Â \n@desc' 
 Â Â conn.sSubjectÂ =Â 'Group.name has been changed, new name:Â \n@subject' 
 Â Â conn.sIconÂ =Â 'IconÂ updated!' 
 Â Â conn.sRevokeÂ =Â 'LinkÂ group.updated, new linkÂ \n@revoke' 
 Â Â conn.sAnnounceOnÂ =Â 'GroupÂ telahÂ diÂ tutup!\nsekarangÂ hanyaÂ adminÂ yangÂ dapatÂ mengirimÂ pesan.' 
 Â Â conn.sAnnounceOffÂ =Â 'GroupÂ telahÂ diÂ buka!\nsekarangÂ semuaÂ pesertaÂ dapatÂ mengirimÂ pesan.' 
 Â Â conn.sRestrictOnÂ =Â 'EditÂ InfoÂ GroupÂ changedÂ Â toÂ onlyÂ admin!' 
 Â Â conn.sRestrictOffÂ =Â 'EditÂ InfoÂ GroupÂ isÂ changedÂ toÂ allÂ participants!' 
  
 Â Â conn.handlerÂ =Â handler.handler.bind(global.conn) 
 Â Â conn.participantsUpdateÂ =Â handler.participantsUpdate.bind(global.conn) 
 Â Â conn.groupsUpdateÂ =Â handler.groupsUpdate.bind(global.conn) 
 Â Â conn.onDeleteÂ =Â handler.deleteUpdate.bind(global.conn) 
 Â Â conn.connectionUpdateÂ =Â connectionUpdate.bind(global.conn) 
 Â Â conn.credsUpdateÂ =Â saveCreds.bind(global.conn) 
  
 Â Â conn.ev.on('messages.upsert',Â conn.handler) 
 Â Â conn.ev.on('group-participants.update',Â conn.participantsUpdate) 
 Â Â conn.ev.on('groups.update',Â conn.groupsUpdate) 
 Â Â conn.ev.on('message.delete',Â conn.onDelete) 
 Â Â conn.ev.on('connection.update',Â conn.connectionUpdate) 
 Â Â conn.ev.on('creds.update',Â conn.credsUpdate) 
 Â Â isInitÂ =Â false 
 Â Â returnÂ true 
  
 } 
  
 constÂ pluginFolderÂ =Â global.__dirname(join(__dirname,Â './plugins/index')) 
 constÂ pluginFilterÂ =Â filenameÂ =>Â /\.js$/.test(filename) 
 global.pluginsÂ =Â {} 
 asyncÂ functionÂ filesInit()Â { 
 Â Â forÂ (letÂ filenameÂ ofÂ readdirSync(pluginFolder).filter(pluginFilter))Â { 
 Â Â Â Â tryÂ { 
 Â Â Â Â Â Â letÂ fileÂ =Â global.__filename(join(pluginFolder,Â filename)) 
 Â Â Â Â Â Â constÂ moduleÂ =Â awaitÂ import(file) 
 Â Â Â Â Â Â global.plugins[filename]Â =Â module.defaultÂ ||Â module 
 Â Â Â Â }Â catchÂ (e)Â { 
 Â Â Â Â Â Â conn.logger.error(e) 
 Â Â Â Â Â Â deleteÂ global.plugins[filename] 
 Â Â Â Â } 
 Â Â } 
 } 
 filesInit().then(_Â =>Â console.log(Object.keys(global.plugins))).catch(console.error) 
  
 global.reloadÂ =Â asyncÂ (_ev,Â filename)Â =>Â { 
 Â Â ifÂ (pluginFilter(filename))Â { 
 Â Â Â Â letÂ dirÂ =Â global.__filename(join(pluginFolder,Â filename),Â true) 
 Â Â Â Â ifÂ (filenameÂ inÂ global.plugins)Â { 
 Â Â Â Â Â Â ifÂ (existsSync(dir))Â conn.logger.info(`reÂ -Â requireÂ pluginÂ '${filename}'`) 
 Â Â Â Â Â Â elseÂ { 
 Â Â Â Â Â Â Â Â conn.logger.warn(`deletedÂ pluginÂ '${filename}'`) 
 Â Â Â Â Â Â Â Â returnÂ deleteÂ global.plugins[filename] 
 Â Â Â Â Â Â } 
 Â Â Â Â }Â elseÂ conn.logger.info(`requiringÂ newÂ pluginÂ '${filename}'`) 
 Â Â Â Â letÂ errÂ =Â syntaxerror(readFileSync(dir),Â filename,Â { 
 Â Â Â Â Â Â sourceType:Â 'module', 
 Â Â Â Â Â Â allowAwaitOutsideFunction:Â true 
 Â Â Â Â }) 
 Â Â Â Â ifÂ (err)Â conn.logger.error(`syntaxÂ errorÂ whileÂ loadingÂ '${filename}'\n${format(err)}`) 
 Â Â Â Â elseÂ tryÂ { 
 Â Â Â Â Â Â constÂ moduleÂ =Â (awaitÂ import(`${global.__filename(dir)}?update=${Date.now()}`)) 
 Â Â Â Â Â Â global.plugins[filename]Â =Â module.defaultÂ ||Â module 
 Â Â Â Â }Â catchÂ (e)Â { 
 Â Â Â Â Â Â conn.logger.error(`errorÂ requireÂ pluginÂ '${filename}\n${format(e)}'`) 
 Â Â Â Â }Â finallyÂ { 
 Â Â Â Â Â Â global.pluginsÂ =Â Object.fromEntries(Object.entries(global.plugins).sort(([a],Â [b])Â =>Â a.localeCompare(b))) 
 Â Â Â Â } 
 Â Â } 
 } 
 Object.freeze(global.reload) 
 watch(pluginFolder,Â global.reload) 
 awaitÂ global.reloadHandler() 
  
 //Â QuickÂ Test 
  
 asyncÂ functionÂ _quickTest()Â { 
 Â Â Â Â letÂ testÂ =Â awaitÂ Promise.all([ 
 Â Â Â Â Â Â Â Â spawn('ffmpeg'), 
 Â Â Â Â Â Â Â Â spawn('ffprobe'), 
 Â Â Â Â Â Â Â Â spawn('ffmpeg',Â ['-hide_banner',Â '-loglevel',Â 'error',Â '-filter_complex',Â 'color',Â '-frames:v',Â '1',Â '-f',Â 'webp',Â '-']), 
 Â Â Â Â Â Â Â Â spawn('convert'), 
 Â Â Â Â Â Â Â Â spawn('magick'), 
 Â Â Â Â Â Â Â Â spawn('gm'), 
 Â Â Â Â Â Â Â Â spawn('find',Â ['--version']) 
 Â Â Â Â ].map(pÂ =>Â { 
 Â Â Â Â Â Â Â Â returnÂ Promise.race([ 
 Â Â Â Â Â Â Â Â Â Â Â Â newÂ Promise(resolveÂ =>Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â p.on('close',Â codeÂ =>Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â resolve(codeÂ !==Â 127) 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }) 
 Â Â Â Â Â Â Â Â Â Â Â Â }), 
 Â Â Â Â Â Â Â Â Â Â Â Â newÂ Promise(resolveÂ =>Â { 
 Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â p.on('error',Â _Â =>Â resolve(false)) 
 Â Â Â Â Â Â Â Â Â Â Â Â }) 
 Â Â Â Â Â Â Â Â ]) 
 Â Â Â Â })) 
 Â Â Â Â letÂ [ffmpeg,Â ffprobe,Â ffmpegWebp,Â convert,Â magick,Â gm,Â find]Â =Â test 
 Â Â Â Â console.log(test) 
 Â Â Â Â letÂ sÂ =Â global.supportÂ =Â { 
 Â Â Â Â Â Â Â Â ffmpeg, 
 Â Â Â Â Â Â Â Â ffprobe, 
 Â Â Â Â Â Â Â Â ffmpegWebp, 
 Â Â Â Â Â Â Â Â convert, 
 Â Â Â Â Â Â Â Â magick, 
 Â Â Â Â Â Â Â Â gm, 
 Â Â Â Â Â Â Â Â find 
 Â Â Â Â } 
 Â Â Â Â //Â require('./lib/sticker').supportÂ =Â s 
 Â Â Â Â Object.freeze(global.support) 
  
 Â Â Â Â ifÂ (!s.ffmpeg)Â { 
 Â Â Â Â Â Â Â Â conn.logger.warn(`Please first install ffmpeg so that you can send videos`) 
 Â Â Â Â } 
  
 Â Â Â Â ifÂ (s.ffmpegÂ &&Â !s.ffmpegWebp)Â { 
 Â Â Â Â Â Â Â Â conn.logger.warn('Sticker May Not Animate without libwebp in ffmpegÂ (--enable-ibwebpÂ whileÂ compilingÂ ffmpeg)') 
 Â Â Â Â } 
  
 Â Â Â Â ifÂ (!s.convertÂ &&Â !s.magickÂ &&Â !s.gm)Â { 
 Â Â Â Â Â Â Â Â conn.logger.warn('FeaturesÂ StickerÂ ProbablyÂ Not WorkÂ WithoutÂ imagemagickÂ andÂ libwebpÂ inÂ ffmpegÂ has notÂ been installedÂ (pkgÂ installÂ imagemagick)') 
 Â Â Â Â } 
  
 } 
 _quickTest() 
 Â Â Â Â .then(()Â =>Â conn.logger.info('â˜‘ï¸Â QuickÂ TestÂ DoneÂ ,Â nameÂ fileÂ sessionÂ ~>Â creds.json')) 
 Â Â Â Â .catch(console.error)
